<div class="kanban-card card p-3 cursor-grab active:cursor-grabbing hover:border-primary transition-all" data-task-id="{{ task.id }}" draggable="true">
    <div class="flex justify-between items-start mb-2">
        <h4 class="text-sm font-bold text-gray-100 leading-tight">
            <a href="{% url 'task_detail' task.pk %}" class="hover:text-primary">{{ task.title }}</a>
        </h4>
        {% include "tasks/partials/priority_icon.html" with priority=task.priority %}
    </div>
    
    {% if task.description %}
    <p class="text-xs text-gray-500 line-clamp-2 mb-3">{{ task.description }}</p>
    {% endif %}
    
    <div class="flex flex-wrap gap-1 mb-3">
        {% for tag in task.tags.all %}
            <span class="w-3 h-1 rounded-full" style="background-color: {{ tag.color }};" title="{{ tag.name }}"></span>
        {% endfor %}
    </div>
    
    <div class="flex justify-between items-center text-[10px] text-gray-500">
        <div class="flex items-center gap-1">
            {% if task.due_date %}
                <span class="flex items-center gap-0.5 {% if task.is_overdue %}text-danger{% endif %}">
                    {% include "includes/heroicon.html" with icon_name="calendar" class="icon-sm" %}
                    {{ task.due_date|date:"M d" }}
                </span>
            {% endif %}
        </div>
        <div class="flex items-center gap-2">
            {% if task.attachments_count %}
                <span class="flex items-center gap-0.5">
                    {% include "includes/heroicon.html" with icon_name="paperclip" class="icon-sm" %}
                    {{ task.attachments_count }}
                </span>
            {% endif %}
            {% if task.is_pinned %}
                {% include "includes/heroicon.html" with icon_name="star" class="icon-sm text-accent" %}
            {% endif %}
        </div>
    </div>
</div>
